<div class="content">

    <section class="loading center" v-if="!ready">
        <ui-loading></ui-loading>
    </section>

    <div class="tools">
        <i class="i-add"
            @click="menuPopupNew($event)"
        ></i>
        <ui-input tabindex="-1" ref="searchInput"></ui-input>
        <i class="expand"
            v-bind:class="{'i-full':!expand, 'i-full-over':expand}"
            @click="toggleAll"
        ></i>
        <i class="i-refresh"
            @click="refresh"
        ></i>
    </div>

    <div class="viewBox" ref="viewBox"
        @mousedown="contextMenuPopup($event)"
    >
        <div class=scrollBar ref="scrollBar"></div>
        <tree ref="tree"
            :state="state"
            :list="nodes"
            :select="select"
            @toggle="toggleAsset"
            @rename="renameAsset"
            @dragover="overAsset"
            @dragleave="leaveAsset"
            @drop="dropAsset"
            @new="newAsset"
            @delete="deleteAsset"
            @multiple="multipleSelect"
            @copy="copyAsset"
            @paste="pasteAsset"
        ></tree>
        <section class="dirShadow" 
            :style="{ top: shadowOffset[0] + 'px', height: shadowOffset[1] + 'px' }"
        >
        </section>
    </div>
    <div class="sourcepath">
        {{current.source}}
    </div>
</div>