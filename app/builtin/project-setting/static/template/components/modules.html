<div class="modules">

    <!-- 是否使用全局配置 -->
    <ui-prop label="Use Global"
        v-if="position === 'local'"
    >
        <ui-checkbox slot="content"
            :value="settings.use_global"
            @confirm="_onSettingsChanged($event, 'use_global')"
        ></ui-checkbox>
    </ui-prop>

    <div class="info">
        <p>{{t('info')}}</p>
        <p>{{t('warn')}}</p>
    </div>

    <section
        v-if="position !== 'local' || !settings.use_global"
    >
        <div class="modules-header">
            <div class="modules-item">
                <span class="name">打包全部模块</span>
                <span class="checkbox">
                    <ui-checkbox
                        :checked="all"
                        @confirm="changeAll(!all)"
                    ></ui-checkbox>
                </span>
            </div>
            <div class="modules-item">
                <span class="name">{{t('module')}}</span>
                <span class="checkbox"> {{t('inquiry')}} </span>
            </div>
        </div>

        <div class="modules-section"

        >
            <div class="modules-item"
                v-for="(item, key) in modules"
                :key="item.name"
            >
                <span class="name">{{item.name}}</span>
                <span class="checkbox">
                    <ui-checkbox
                        :disabled="item.locked"
                        :checked="item.checked"
                        :path="key"
                        @confirm="changeItem(key, !item.checked)"
                    ></ui-checkbox>
                </span>
            </div>
        </div>
    </section>
</div>
